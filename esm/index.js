var p=Object.defineProperty;var T=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var d=(n,t,e)=>t in n?p(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,l=(n,t)=>{for(var e in t||(t={}))b.call(t,e)&&d(n,e,t[e]);if(T)for(var e of T(t))m.call(t,e)&&d(n,e,t[e]);return n};import{useEffect as w,useRef as S,useState as x}from"react";function h(n){let t=new Set;function e(r){let[o,u]=x(e.state),a=S(r(e.state));return w(()=>{let c=()=>{let f=r(e.state),i=!1;for(let s=0;s<f.length;s++)if(f[s]!==a.current[s]){i=!0;break}a.current=f,i&&u(l({},e.state))};return t.add(c),()=>{t.delete(c)}},[]),o}function k({render:r,memo:o}){let u=e(o);return r(u)}return e.next=()=>{t.forEach(r=>r())},e.state=n,e.ob=k,e}export{h as reactOb};
