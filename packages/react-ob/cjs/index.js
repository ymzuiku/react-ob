"use strict";var c=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var d=(e,t)=>{for(var n in t)c(e,n,{get:t[n],enumerable:!0})},x=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of m(t))!T.call(e,u)&&u!==n&&c(e,u,{get:()=>t[u],enumerable:!(r=h(t,u))||r.enumerable});return e};var g=e=>x(c({},"__esModule",{value:!0}),e);var I={};d(I,{Ob:()=>w,ObProvider:()=>O,channel:()=>f,channelWithStorage:()=>v,isChannel:()=>S,publish:()=>i,useChannel:()=>C});module.exports=g(I);var s=require("react");var l=null;function i(){l&&(clearTimeout(l),l=null),l=setTimeout(()=>{i.fn()},16)}i.fn=()=>{};function f(e){let t=e,n=()=>t;return n.set=r=>{t=r,i()},n}function C(e){return(0,s.useRef)(f(e)).current}function S(e){return typeof e=="function"&&typeof e.set=="function"}function y(e){if(typeof window=="undefined")return;let t=localStorage.getItem(e);if(!!t)try{return JSON.parse(t).j}catch(n){return}}function b(e,t){typeof window!="undefined"&&localStorage.setItem(e,JSON.stringify({j:t}))}function v(e,t){let n=t,r=!1,u=()=>{if(!r){let a=y(e);a!==void 0&&(r=!0,n=a,i())}return n};return u.set=a=>{n=a,i(),b(e,n)},u}var o=require("react");var p=(0,o.createContext)(0);function w({children:e,channels:t}){(0,o.useContext)(p);let n=t.map(r=>r());return(0,o.useMemo)(()=>e(...n),n)}function O({children:e}){let[t,n]=(0,o.useState)(0);return i.fn=()=>{n(r=>(r+=1,r>9999&&(r=0),r))},(0,o.createElement)(p.Provider,{children:e,value:t})}
